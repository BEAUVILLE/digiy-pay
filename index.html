<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>DIGIY PAY PERSO — Mon Portefeuille</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#f4ecdd">

  <style>
    :root{
      --bg:#f4ecdd;
      --bg-soft:#f8f1e4;
      --card:#ffffff;
      --accent:#d59f2a;
      --accent-soft:#f7d58a;
      --accent-dark:#b07b13;
      --danger:#b91c1c;
      --ok:#15803d;
      --muted:#6b7280;
      --ink:#1f2933;
      --line:#e5d6c2;
      --green-soft:#dcfce7;
      --red-soft:#fee2e2;
      --blue-soft:#dbeafe;
      --orange-soft:#ffedd5;
    }
    *{
      box-sizing:border-box;
      margin:0;
      padding:0;
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,sans-serif;
    }
    body{
      background:radial-gradient(circle at top, #fdf7ec 0, #f4ecdd 40%, #e7dbc7 100%);
      min-height:100vh;
      display:flex;
      justify-content:center;
      padding:12px;
      color:var(--ink);
    }
    .app{
      width:100%;
      max-width:1100px;
      background:radial-gradient(circle at top left, rgba(213,159,42,0.12), #fdf7ec 50%, #f4ecdd 100%);
      border-radius:22px;
      border:1px solid rgba(214,180,120,0.7);
      box-shadow:0 16px 50px rgba(0,0,0,0.18);
      padding:16px 16px 18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    /* Header */
    .header-row{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo-badge{
      width:42px;
      height:42px;
      border-radius:16px;
      background:radial-gradient(circle at 20% 0%, #f7e08a, #d59f2a 45%, #8b5a1c 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      color:#111827;
      font-size:20px;
      box-shadow:0 0 0 1px rgba(250,224,167,0.9),0 10px 24px rgba(180,126,47,0.5);
      position:relative;
    }
    .logo-badge::after{
      content:"";
      position:absolute;
      top:-2px;
      right:-2px;
      width:10px;
      height:10px;
      border-radius:999px;
      background:#22c55e;
      border:2px solid #fdf7ec;
      box-shadow:0 0 10px rgba(34,197,94,0.7);
    }
    .brand-text{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .brand-text span:first-child{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:0.18em;
      color:var(--muted);
    }
    .brand-text span:last-child{
      font-size:17px;
      font-weight:800;
      background:linear-gradient(135deg,#111827,var(--accent));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .header-right{
      text-align:right;
      font-size:11px;
      color:var(--muted);
    }
    .header-right strong{
      color:var(--accent-dark);
    }

    /* KPIs */
    .kpi-grid{
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:10px;
    }
    .kpi-card{
      background:radial-gradient(circle at top left,#ffffff,#fbf1df);
      border-radius:18px;
      border:1px solid rgba(214,180,120,0.7);
      padding:10px 12px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .kpi-label{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:0.14em;
      color:var(--muted);
    }
    .kpi-value{
      font-size:22px;
      font-weight:800;
    }
    .kpi-value.green{color:#166534;}
    .kpi-value.red{color:#b91c1c;}
    .kpi-value.gold{
      background:linear-gradient(135deg,#111827,var(--accent));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .kpi-sub{
      font-size:11px;
      color:var(--muted);
    }

    /* Layout */
    .main-grid{
      display:grid;
      grid-template-columns: minmax(0,1.3fr) minmax(0,1fr);
      gap:12px;
      align-items:flex-start;
    }

    .card{
      background:radial-gradient(circle at top,#ffffff,#fbf4e4);
      border-radius:18px;
      border:1px solid rgba(214,180,120,0.6);
      padding:12px 12px 10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .card-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      padding-bottom:6px;
      border-bottom:1px solid rgba(214,180,120,0.7);
    }
    .card-title{
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:0.16em;
      color:var(--accent-dark);
      font-weight:600;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 9px;
      border-radius:999px;
      font-size:10px;
      border:1px solid rgba(214,180,120,0.8);
      background:#fdf7ec;
      color:var(--muted);
    }
    .chip-dot{
      width:7px;
      height:7px;
      border-radius:999px;
      background:radial-gradient(circle at 30% 0%,#bbf7d0,#22c55e);
      box-shadow:0 0 0 2px rgba(34,197,94,0.35);
    }

    /* Form */
    .form-grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:8px;
      margin-top:4px;
    }
    .form-group{
      display:flex;
      flex-direction:column;
      gap:4px;
      font-size:12px;
    }
    .form-group label{
      font-weight:600;
      color:#374151;
    }
    .form-group input,
    .form-group select{
      border-radius:10px;
      border:1px solid #d1d5db;
      padding:7px 9px;
      font-size:13px;
      outline:none;
      background:#ffffff;
    }
    .form-group input:focus,
    .form-group select:focus{
      border-color:var(--accent-dark);
      box-shadow:0 0 0 1px rgba(213,159,42,0.6);
    }
    .form-group small{
      font-size:10px;
      color:var(--muted);
    }

    .btn-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:8px;
    }
    .btn{
      border-radius:999px;
      border:none;
      padding:8px 12px;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      justify-content:center;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--accent-dark),var(--accent));
      color:#111827;
      box-shadow:0 8px 18px rgba(213,159,42,0.35);
    }
    .btn-secondary{
      background:#fdf7ec;
      border:1px solid rgba(214,180,120,0.7);
      color:#374151;
    }
    .btn-wave{
      background:var(--blue-soft);
      border:1px solid #3b82f6;
      color:#1d4ed8;
    }
    .btn-om{
      background:var(--orange-soft);
      border:1px solid #f97316;
      color:#9a3412;
    }

    /* Transactions */
    .tx-list{
      border-radius:14px;
      border:1px solid rgba(214,180,120,0.7);
      background:#fdf7ec;
      max-height:260px;
      overflow-y:auto;
    }
    .tx-row{
      display:grid;
      grid-template-columns: minmax(0,1.1fr) 80px 90px;
      gap:6px;
      padding:8px 9px;
      border-bottom:1px solid rgba(229,216,194,0.9);
      font-size:12px;
      align-items:center;
    }
    .tx-row:nth-child(even){
      background:rgba(255,249,235,0.7);
    }
    .tx-main{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .tx-label{
      font-weight:600;
      color:#111827;
    }
    .tx-meta{
      font-size:11px;
      color:var(--muted);
    }
    .tx-amount{
      font-weight:700;
      text-align:right;
    }
    .tx-amount.plus{color:#166534;}
    .tx-amount.minus{color:#b91c1c;}
    .tx-tag{
      font-size:10px;
      padding:3px 7px;
      border-radius:999px;
      border:1px solid rgba(209,213,219,0.9);
      text-align:center;
      background:#ffffff;
      color:#4b5563;
    }
    .tx-tag.saving{
      border-color:#22c55e;
      background:#dcfce7;
      color:#166534;
    }
    .tx-tag-income{
      border-color:#22c55e;
      background:#dcfce7;
      color:#166534;
    }
    .tx-tag-expense{
      border-color:#f97316;
      background:#ffedd5;
      color:#9a3412;
    }

    .empty{
      padding:16px;
      text-align:center;
      font-size:12px;
      color:var(--muted);
    }

    /* Savings card */
    .save-highlight{
      background:linear-gradient(135deg,#fef9c3,#f8fafc);
      border-radius:14px;
      padding:8px 10px;
      font-size:11px;
      border:1px dashed rgba(202,138,4,0.7);
      display:flex;
      justify-content:space-between;
      gap:8px;
      align-items:center;
    }
    .save-highlight strong{
      color:#92400e;
    }

    /* Footer */
    footer{
      margin-top:4px;
      font-size:10px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:6px;
    }

    /* Scrollbar */
    ::-webkit-scrollbar{
      width:8px;
      height:8px;
    }
    ::-webkit-scrollbar-track{
      background:#f4ecdd;
    }
    ::-webkit-scrollbar-thumb{
      background:#e0c9a8;
      border-radius:4px;
    }
    ::-webkit-scrollbar-thumb:hover{
      background:#cfb48c;
    }

    /* Responsive */
    @media (max-width:900px){
      .kpi-grid{
        grid-template-columns:repeat(2,minmax(0,1fr));
      }
      .main-grid{
        grid-template-columns:1fr;
      }
    }
    @media (max-width:600px){
      .header-row{flex-direction:column;align-items:flex-start;}
      .kpi-grid{
        grid-template-columns:1fr;
      }
    }
  </style>
</head>
<body>
<div class="app">
  <!-- Header -->
  <header class="header-row">
    <div class="brand">
      <div class="logo-badge">₣</div>
      <div class="brand-text">
        <span>DIGIY PAY PERSO</span>
        <span>Mon Portefeuille de Vie</span>
      </div>
    </div>
    <div class="header-right">
      <div><strong>Mode privé</strong> — tout reste dans ton téléphone.</div>
      <div id="uiMonthLabel">Mois en cours</div>
    </div>
  </header>

  <!-- KPIs -->
  <section class="kpi-grid">
    <article class="kpi-card">
      <div class="kpi-label">Solde disponible</div>
      <div class="kpi-value gold" id="kpiBalance">0 FCFA</div>
      <div class="kpi-sub">Revenus - dépenses (hors épargne)</div>
    </article>
    <article class="kpi-card">
      <div class="kpi-label">Revenus du mois</div>
      <div class="kpi-value green" id="kpiIncome">0 FCFA</div>
      <div class="kpi-sub">Salaire, business, cash qui entre</div>
    </article>
    <article class="kpi-card">
      <div class="kpi-label">Dépenses du mois</div>
      <div class="kpi-value red" id="kpiExpense">0 FCFA</div>
      <div class="kpi-sub">Ce qui sort de ta poche</div>
    </article>
    <article class="kpi-card">
      <div class="kpi-label">Épargne cumulée</div>
      <div class="kpi-value gold" id="kpiSaving">0 FCFA</div>
      <div class="kpi-sub">Somme mise de côté (Wave / OM / autre)</div>
    </article>
  </section>

  <section class="main-grid">
    <!-- Col gauche : saisie + transactions -->
    <section class="card">
      <div class="card-header">
        <div class="card-title">Saisir un mouvement</div>
        <div class="chip">
          <span class="chip-dot"></span>
          Recommandé : garder la trace de TOUT
        </div>
      </div>

      <form id="txForm">
        <div class="form-grid">
          <div class="form-group">
            <label>Date</label>
            <input type="date" id="txDate" required>
          </div>
          <div class="form-group">
            <label>Type</label>
            <select id="txType" required>
              <option value="income">Revenu (+)</option>
              <option value="expense">Dépense (–)</option>
              <option value="saving">Épargne (mise de côté)</option>
            </select>
            <small>Épargne = tu sors l'argent pour le mettre de côté</small>
          </div>
          <div class="form-group">
            <label>Montant (FCFA)</label>
            <input type="number" id="txAmount" min="0" step="100" required>
          </div>
          <div class="form-group">
            <label>Méthode</label>
            <select id="txMethod">
              <option value="cash">Cash</option>
              <option value="wave">Wave</option>
              <option value="om">Orange Money</option>
              <option value="bank">Banque</option>
            </select>
          </div>
          <div class="form-group">
            <label>Catégorie</label>
            <select id="txCategory">
              <option value="salaire">Salaire / Revenu</option>
              <option value="maison">Maison / Loyer</option>
              <option value="alimentation">Alimentation / Resto</option>
              <option value="transport">Transport</option>
              <option value="loisir">Loisirs / Achats perso</option>
              <option value="sante">Santé</option>
              <option value="epargne">Épargne</option>
              <option value="autres">Autres</option>
            </select>
          </div>
          <div class="form-group">
            <label>Description</label>
            <input type="text" id="txLabel" placeholder="Ex : Salaire, courses, sortie resto…">
          </div>
        </div>

        <div class="btn-row">
          <button type="submit" class="btn btn-primary">+ Ajouter dans mon journal</button>
          <button type="button" class="btn btn-secondary" id="btnReset">Effacer le formulaire</button>
        </div>
      </form>

      <div class="save-highlight" id="saveHint">
        <div>
          <div style="font-weight:600;">Suggestion épargne du mois :</div>
          <div><strong id="saveHintAmount">0 FCFA</strong> (10% de tes revenus)</div>
        </div>
        <div style="font-size:10px;color:#6b7280;">
          Astuce : si possible, mets au moins ça de côté chaque mois.
        </div>
      </div>

      <div class="card-header" style="margin-top:8px;">
        <div class="card-title">Mouvements récents</div>
        <div style="font-size:11px;color:var(--muted);" id="txCountLabel">0 lignes</div>
      </div>

      <div class="tx-list" id="txList">
        <div class="empty">Aucun mouvement pour l’instant. Commence par ajouter un revenu ou une dépense.</div>
      </div>
    </section>

    <!-- Col droite : bloc Épargne + résumé -->
    <section class="card">
      <div class="card-header">
        <div class="card-title">Mode Épargne</div>
        <span style="font-size:11px;color:var(--muted);">Mettre de côté via Wave / Orange Money</span>
      </div>

      <div class="form-group">
        <label>Montant à mettre de côté</label>
        <input type="number" id="saveAmount" min="0" step="100" placeholder="Ex : 10 000">
        <small>Ce sera enregistré comme ÉPARGNE dans ton journal.</small>
      </div>

      <div class="btn-row">
        <button type="button" class="btn btn-wave" id="btnSaveWave">Je mets de côté via Wave</button>
        <button type="button" class="btn btn-om" id="btnSaveOM">Je mets de côté via Orange Money</button>
      </div>

      <div style="font-size:11px;color:var(--muted);margin-top:6px;">
        Ces boutons servent à garder une TRACE dans ton portefeuille DIGIY.  
        <strong>Tu dois quand même faire le transfert réel sur ton app Wave / OM.</strong>
      </div>

      <hr style="border:none;border-top:1px dashed rgba(214,180,120,0.7);margin:10px 0;">

      <div class="card-header" style="padding-bottom:4px;">
        <div class="card-title">Résumé du mois</div>
      </div>

      <ul style="font-size:12px;color:#374151;list-style:none;display:flex;flex-direction:column;gap:4px;">
        <li id="summaryLine1">—</li>
        <li id="summaryLine2">—</li>
        <li id="summaryLine3">—</li>
      </ul>

      <div style="margin-top:10px;font-size:11px;color:#6b7280;">
        Objectif DIGIY : te donner un **cerveau financier clair** pour décider en paix,  
        freiner les dépenses impulsives et avancer vers tes projets (terrain, études des enfants, voyage…).
      </div>
    </section>
  </section>

  <footer>
    <div>DIGIY PAY PERSO — Journal financier privé (données stockées en local).</div>
    <div>Prochaine étape : liaison douce avec DIGIY PAY / Wave / OM quand la colonne vertébrale sera béton.</div>
  </footer>
</div>

<script>
/**
 * DIGIY PAY PERSO
 * 100% local — les données restent sur l’appareil (localStorage).
 */

const STORAGE_KEY = "digiy_pay_perso_v1";

let OPERATIONS = []; // {id,date,type,amount,method,category,label}

/* ===== Utils ===== */
function formatFCFA(n){
  n = Number(n) || 0;
  return n.toLocaleString("fr-FR");
}
function todayISO(){
  const d = new Date();
  const y = d.getFullYear();
  const m = String(d.getMonth()+1).padStart(2,"0");
  const dd = String(d.getDate()).padStart(2,"0");
  return `${y}-${m}-${dd}`;
}
function monthKeyFromISO(dateStr){
  // 2025-11-27 → 2025-11
  if(!dateStr) return "";
  const parts = dateStr.split("-");
  return parts[0] + "-" + parts[1];
}

/* ===== Storage ===== */
function loadFromStorage(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(!raw) return [];
    const data = JSON.parse(raw);
    return Array.isArray(data) ? data : [];
  }catch(e){
    console.error(e);
    return [];
  }
}
function saveToStorage(){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(OPERATIONS));
}

/* ===== Rendu ===== */
function recomputeAndRender(){
  if(!OPERATIONS) OPERATIONS = [];

  const now = new Date();
  const currentMonthKey = monthKeyFromISO(todayISO());
  const monthOps = OPERATIONS.filter(op => monthKeyFromISO(op.date) === currentMonthKey);

  let totalIncome = 0;
  let totalExpense = 0;
  let totalSaving = 0;

  monthOps.forEach(op => {
    const amt = Number(op.amount) || 0;
    if(op.type === "income"){
      totalIncome += amt;
    }else if(op.type === "expense"){
      totalExpense += amt;
    }else if(op.type === "saving"){
      // Épargne : sortie de cash, mais comptée en "épargne cumulée"
      totalExpense += amt;
      totalSaving += amt;
    }
    if(op.category === "epargne"){
      totalSaving += amt;
    }
  });

  const balance = totalIncome - totalExpense;

  // KPIs
  document.getElementById("kpiIncome").textContent = formatFCFA(totalIncome) + " FCFA";
  document.getElementById("kpiExpense").textContent = formatFCFA(totalExpense) + " FCFA";
  document.getElementById("kpiSaving").textContent = formatFCFA(totalSaving) + " FCFA";
  document.getElementById("kpiBalance").textContent = formatFCFA(balance) + " FCFA";

  // Mois label
  const monthLabel = now.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});
  document.getElementById("uiMonthLabel").textContent = "Mois en cours : " + monthLabel;

  // Suggestion épargne 10%
  const suggested = Math.round(totalIncome * 0.10);
  document.getElementById("saveHintAmount").textContent = formatFCFA(suggested) + " FCFA";

  // Résumé
  const summary1 = (totalIncome>0)
    ? `Tu as reçu ${formatFCFA(totalIncome)} FCFA ce mois-ci.`
    : `Aucun revenu enregistré pour l’instant.`;
  const summary2 = (totalExpense>0)
    ? `Tu as dépensé ${formatFCFA(totalExpense)} FCFA (dont ${formatFCFA(totalSaving)} FCFA en épargne).`
    : `Aucune dépense enregistrée pour l’instant.`;
  let summary3;
  if(balance>0){
    summary3 = `Bonne nouvelle : ton solde est POSITIF (+${formatFCFA(balance)} FCFA). Continue comme ça.`;
  }else if(balance<0){
    summary3 = `Attention : ton solde est NÉGATIF (${formatFCFA(balance)} FCFA). Freine les sorties et pense à réduire les impulsions.`;
  }else{
    summary3 = `Tu es à l’équilibre parfait (0). Chaque nouvelle décision compte.`;
  }
  document.getElementById("summaryLine1").textContent = summary1;
  document.getElementById("summaryLine2").textContent = summary2;
  document.getElementById("summaryLine3").textContent = summary3;

  // Transactions list (30 dernières)
  const list = document.getElementById("txList");
  list.innerHTML = "";
  const sorted = [...monthOps].sort((a,b) => (b.date || "").localeCompare(a.date || "") || (b.id - a.id));
  const recent = sorted.slice(0,50);

  document.getElementById("txCountLabel").textContent = recent.length + " ligne(s)";

  if(!recent.length){
    const empty = document.createElement("div");
    empty.className = "empty";
    empty.textContent = "Aucun mouvement pour le mois en cours.";
    list.appendChild(empty);
    return;
  }

  recent.forEach(op => {
    const row = document.createElement("div");
    row.className = "tx-row";

    const main = document.createElement("div");
    main.className = "tx-main";
    const label = document.createElement("div");
    label.className = "tx-label";
    label.textContent = op.label || "—";
    const meta = document.createElement("div");
    meta.className = "tx-meta";
    const d = op.date || "";
    const catLabel = (op.category || "").toUpperCase();
    meta.textContent = `${d} · ${catLabel} · ${op.method.toUpperCase()}`;
    main.appendChild(label);
    main.appendChild(meta);

    const amountDiv = document.createElement("div");
    amountDiv.className = "tx-amount " + (op.type === "income" ? "plus" : "minus");
    const sign = op.type === "income" ? "+" : "−";
    amountDiv.textContent = sign + " " + formatFCFA(op.amount) + " FCFA";

    const tag = document.createElement("div");
    let tagText = "";
    tag.className = "tx-tag";
    if(op.type === "income"){
      tag.classList.add("tx-tag-income");
      tagText = "Revenu";
    }else if(op.type === "expense"){
      tag.classList.add("tx-tag-expense");
      tagText = "Dépense";
    }else if(op.type === "saving"){
      tag.classList.add("saving");
      tagText = "Épargne";
    }
    tag.textContent = tagText;

    row.appendChild(main);
    row.appendChild(amountDiv);
    row.appendChild(tag);

    list.appendChild(row);
  });
}

/* ===== Ajout d’une opération ===== */
function addOperation(op){
  op.id = Date.now();
  OPERATIONS.push(op);
  saveToStorage();
  recomputeAndRender();
}

/* ===== Handlers ===== */
function initForm(){
  const form = document.getElementById("txForm");
  const dateInput = document.getElementById("txDate");
  const typeInput = document.getElementById("txType");
  const amountInput = document.getElementById("txAmount");
  const methodInput = document.getElementById("txMethod");
  const catInput = document.getElementById("txCategory");
  const labelInput = document.getElementById("txLabel");

  dateInput.value = todayISO();

  form.addEventListener("submit",(e)=>{
    e.preventDefault();
    const date = dateInput.value;
    const type = typeInput.value;
    const amount = Number(amountInput.value || 0);
    const method = methodInput.value || "cash";
    const category = catInput.value || "autres";
    const label = labelInput.value.trim() || (type === "income" ? "Revenu" : "Dépense");

    if(!date || !amount || amount<=0){
      alert("Merci de saisir une date et un montant valide.");
      return;
    }

    addOperation({date,type,amount,method,category,label});

    // petit reset léger
    amountInput.value = "";
    labelInput.value = "";
  });

  document.getElementById("btnReset").addEventListener("click", ()=>{
    amountInput.value = "";
    labelInput.value = "";
  });
}

/* ===== Mode Épargne (Wave / OM) ===== */
function initSavingButtons(){
  const saveInput = document.getElementById("saveAmount");
  const btnWave = document.getElementById("btnSaveWave");
  const btnOM = document.getElementById("btnSaveOM");

  function handleSaveClick(method){
    const amount = Number(saveInput.value || 0);
    if(!amount || amount<=0){
      alert("Indique un montant à mettre de côté.");
      return;
    }
    const date = todayISO();
    const label = `Épargne via ${method === "wave" ? "Wave" : "Orange Money"}`;

    addOperation({
      date,
      type:"saving",
      amount,
      method,
      category:"epargne",
      label
    });

    // Ici c’est volontairement OFFLINE.
    // L’utilisateur doit faire lui-même le transfert dans son app Wave / OM.
    alert("Note épargne ajoutée dans ton journal DIGIY. Pense à faire le transfert réel sur ton app.");
    saveInput.value = "";
  }

  btnWave.addEventListener("click", ()=>handleSaveClick("wave"));
  btnOM.addEventListener("click", ()=>handleSaveClick("om"));
}

/* ===== Init ===== */
window.addEventListener("load", ()=>{
  OPERATIONS = loadFromStorage();
  initForm();
  initSavingButtons();
  recomputeAndRender();
});
</script>
</body>
</html>
